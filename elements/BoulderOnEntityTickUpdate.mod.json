{
  "_fv": 73,
  "_type": "procedure",
  "definition": {
    "procedurexml": "<xml xmlns=\"https://developers.google.com/blockly/xml\"><block type=\"event_trigger\" deletable=\"false\" x=\"40\" y=\"40\"><field name=\"trigger\">no_ext_trigger</field><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_binary_ops\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"entity_data_logic_get\"><field name=\"customEntity\">CUSTOM:Boulder</field><field name=\"accessor\">picked</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></value><statement name=\"DO0\"><block type=\"play_newgeckoanim\"><field name=\"name\">CUSTOM:Boulder</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"animation\"><block type=\"text\"><field name=\"TEXT\">idle</field></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"entity_haspotioneffect\"><field name=\"potion\">CUSTOM:Warppeddelay</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><statement name=\"DO0\"><block type=\"entity_data_logic_set\"><field name=\"customEntity\">CUSTOM:Boulder</field><field name=\"accessor\">picked</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"value\"><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_binary_ops\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"entity_data_logic_get\"><field name=\"customEntity\">CUSTOM:Boulder</field><field name=\"accessor\">picked</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"B\"><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></value><statement name=\"DO0\"><block type=\"world_entity_inrange_foreach\"><value name=\"_placeholder\"><block type=\"entity_iterator\" deletable=\"false\" movable=\"false\"></block></value><value name=\"x\"><block type=\"coord_x\"></block></value><value name=\"y\"><block type=\"coord_y\"></block></value><value name=\"z\"><block type=\"coord_z\"></block></value><value name=\"range\"><block type=\"entity_size_height\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><statement name=\"foreach\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"compare_entities\"><value name=\"a\"><block type=\"entity_gettargetentity\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"b\"><block type=\"entity_iterator\"></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"entity_isalive\"><value name=\"entity\"><block type=\"entity_iterator\"></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"entity_isblocking\"><value name=\"entity\"><block type=\"entity_iterator\"></block></value></block></value><statement name=\"DO0\"><block type=\"entity_despawn\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><next><block type=\"block_play_break_effect\"><value name=\"block\"><block type=\"mcitem_allblocks\"><field name=\"value\">Blocks.STONE#0</field></block></value><value name=\"x\"><block type=\"coord_x\"></block></value><value name=\"y\"><block type=\"coord_y\"></block></value><value name=\"z\"><block type=\"coord_z\"></block></value><next><block type=\"block_play_break_effect\"><value name=\"block\"><block type=\"mcitem_allblocks\"><field name=\"value\">Blocks.STONE#0</field></block></value><value name=\"x\"><block type=\"coord_x\"></block></value><value name=\"y\"><block type=\"coord_y\"></block></value><value name=\"z\"><block type=\"coord_z\"></block></value><next><block type=\"block_play_break_effect\"><value name=\"block\"><block type=\"mcitem_allblocks\"><field name=\"value\">Blocks.STONE#0</field></block></value><value name=\"x\"><block type=\"coord_x\"></block></value><value name=\"y\"><block type=\"coord_y\"></block></value><value name=\"z\"><block type=\"coord_z\"></block></value><next><block type=\"play_sound\"><field name=\"sound\">entity.wither.break_block</field><field name=\"soundcategory\">neutral</field><value name=\"x\"><block type=\"coord_x\"></block></value><value name=\"y\"><block type=\"coord_y\"></block></value><value name=\"z\"><block type=\"coord_z\"></block></value><value name=\"level\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"pitch\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><next><block type=\"entity_set_movement\" inline=\"false\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"vx\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_singular_ops\"><field name=\"OP\">SIN</field><value name=\"NUM\"><block type=\"math_singular_ops\"><field name=\"OP\">DEG2RAD</field><value name=\"NUM\"><block type=\"math_dual_ops\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"entity_direction\"><value name=\"entity\"><block type=\"entity_iterator\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">180</field></block></value></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1.25</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1.1</field></block></value></block></value><value name=\"vy\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"math_singular_ops\"><field name=\"OP\">SIN</field><value name=\"NUM\"><block type=\"math_singular_ops\"><field name=\"OP\">DEG2RAD</field><value name=\"NUM\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value><value name=\"B\"><block type=\"entity_pitch\"><value name=\"entity\"><block type=\"entity_iterator\"></block></value></block></value></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.5</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value></block></value><value name=\"vz\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_singular_ops\"><field name=\"OP\">COS</field><value name=\"NUM\"><block type=\"math_singular_ops\"><field name=\"OP\">DEG2RAD</field><value name=\"NUM\"><block type=\"entity_direction\"><value name=\"entity\"><block type=\"entity_iterator\"></block></value></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1.25</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1.3</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"entity_despawn\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><next><block type=\"play_sound\"><field name=\"sound\">entity.wither.break_block</field><field name=\"soundcategory\">neutral</field><value name=\"x\"><block type=\"coord_x\"></block></value><value name=\"y\"><block type=\"coord_y\"></block></value><value name=\"z\"><block type=\"coord_z\"></block></value><value name=\"level\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"pitch\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><next><block type=\"block_play_break_effect\"><value name=\"block\"><block type=\"mcitem_allblocks\"><field name=\"value\">Blocks.STONE#0</field></block></value><value name=\"x\"><block type=\"coord_x\"></block></value><value name=\"y\"><block type=\"coord_y\"></block></value><value name=\"z\"><block type=\"coord_z\"></block></value><next><block type=\"block_play_break_effect\"><value name=\"block\"><block type=\"mcitem_allblocks\"><field name=\"value\">Blocks.STONE#0</field></block></value><value name=\"x\"><block type=\"coord_x\"></block></value><value name=\"y\"><block type=\"coord_y\"></block></value><value name=\"z\"><block type=\"coord_z\"></block></value><next><block type=\"block_play_break_effect\"><value name=\"block\"><block type=\"mcitem_allblocks\"><field name=\"value\">Blocks.STONE#0</field></block></value><value name=\"x\"><block type=\"coord_x\"></block></value><value name=\"y\"><block type=\"coord_y\"></block></value><value name=\"z\"><block type=\"coord_z\"></block></value><next><block type=\"deal_damage\"><value name=\"amount\"><block type=\"entity_get_attribute_value\"><field name=\"attribute\">ATTACK_DAMAGE</field><value name=\"entity\"><block type=\"entity_from_deps\"></block></value></block></value><value name=\"entity\"><block type=\"entity_iterator\"></block></value><value name=\"damagesource\"><block type=\"damagesource_from_type_cause\"><field name=\"damagetype\">MOB_PROJECTILE</field><value name=\"cause\"><block type=\"entity_from_deps\"></block></value></block></value><next><block type=\"entity_set_movement\" inline=\"false\"><value name=\"entity\"><block type=\"entity_iterator\"></block></value><value name=\"vx\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_singular_ops\"><field name=\"OP\">SIN</field><value name=\"NUM\"><block type=\"math_singular_ops\"><field name=\"OP\">DEG2RAD</field><value name=\"NUM\"><block type=\"math_dual_ops\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"entity_direction\"><value name=\"entity\"><block type=\"entity_iterator\"></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">180</field></block></value></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1.25</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">-1.1</field></block></value></block></value><value name=\"vy\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"math_singular_ops\"><field name=\"OP\">SIN</field><value name=\"NUM\"><block type=\"math_singular_ops\"><field name=\"OP\">DEG2RAD</field><value name=\"NUM\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"math_number\"><field name=\"NUM\">0</field></block></value><value name=\"B\"><block type=\"entity_pitch\"><value name=\"entity\"><block type=\"entity_iterator\"></block></value></block></value></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">0.5</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1.12</field></block></value></block></value><value name=\"vz\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_dual_ops\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><block type=\"math_singular_ops\"><field name=\"OP\">COS</field><value name=\"NUM\"><block type=\"math_singular_ops\"><field name=\"OP\">DEG2RAD</field><value name=\"NUM\"><block type=\"entity_direction\"><value name=\"entity\"><block type=\"entity_iterator\"></block></value></block></value></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1.25</field></block></value></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">-1.3</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block></statement></block></statement></block></statement><next><block type=\"java_code\"><field name=\"CODE\">if (!entity.level().isClientSide()) {&amp;#10;&amp;#10;    double speed = entity.getDeltaMovement().length();&amp;#10;&amp;#10;    // Only break on strong impact&amp;#10;    if (speed &gt; 1.1) {&amp;#10;&amp;#10;        HitResult hit = entity.level().clip(new ClipContext(&amp;#10;                entity.position(),&amp;#10;                entity.position().add(entity.getDeltaMovement().scale(1.5)),&amp;#10;                ClipContext.Block.COLLIDER,&amp;#10;                ClipContext.Fluid.NONE,&amp;#10;                entity&amp;#10;        ));&amp;#10;&amp;#10;        if (hit.getType() == HitResult.Type.BLOCK) {&amp;#10;&amp;#10;            BlockPos bp = BlockPos.containing(hit.getLocation());&amp;#10;&amp;#10;            // --- Custom break effect (same as your shield + hit effect) ---&amp;#10;            world.levelEvent(2001, bp, Block.getId(Blocks.STONE.defaultBlockState()));&amp;#10;            world.levelEvent(2001, bp, Block.getId(Blocks.STONE.defaultBlockState()));&amp;#10;            world.levelEvent(2001, bp, Block.getId(Blocks.STONE.defaultBlockState()));&amp;#10;&amp;#10;            if (world instanceof Level _level) {&amp;#10;                if (!_level.isClientSide()) {&amp;#10;                    _level.playSound(null, bp,&amp;#10;                            ForgeRegistries.SOUND_EVENTS.getValue(new ResourceLocation(\"entity.wither.break_block\")),&amp;#10;                            SoundSource.NEUTRAL, 1, 1);&amp;#10;                } else {&amp;#10;                    _level.playLocalSound(bp.getX(), bp.getY(), bp.getZ(),&amp;#10;                            ForgeRegistries.SOUND_EVENTS.getValue(new ResourceLocation(\"entity.wither.break_block\")),&amp;#10;                            SoundSource.NEUTRAL, 1, 1, false);&amp;#10;                }&amp;#10;            }&amp;#10;&amp;#10;            // --- AOE DAMAGE (3.5 radius) ---&amp;#10;            final Vec3 center = Vec3.atCenterOf(bp);&amp;#10;            List&lt;Entity&gt; nearby = world.getEntitiesOfClass(Entity.class,&amp;#10;                    new AABB(center, center).inflate(3.5d),&amp;#10;                    e -&gt; e instanceof LivingEntity &amp;&amp; e != entity);&amp;#10;&amp;#10;            for (Entity target : nearby) {&amp;#10;&amp;#10;                target.hurt(&amp;#10;                        new DamageSource(&amp;#10;                                world.registryAccess()&amp;#10;                                     .registryOrThrow(Registries.DAMAGE_TYPE)&amp;#10;                                     .getHolderOrThrow(DamageTypes.MOB_PROJECTILE),&amp;#10;                                entity&amp;#10;                        ),&amp;#10;                        (float) (&amp;#10;                                entity instanceof LivingEntity liv &amp;&amp;&amp;#10;                                liv.getAttributes().hasAttribute(Attributes.ATTACK_DAMAGE)&amp;#10;                                ? liv.getAttribute(Attributes.ATTACK_DAMAGE).getValue()&amp;#10;                                : 0&amp;#10;                        )&amp;#10;                );&amp;#10;&amp;#10;                // OPTIONAL: small knockback from explosion impact&amp;#10;                Vec3 push = target.position().subtract(center).normalize().scale(0.7);&amp;#10;                target.setDeltaMovement(target.getDeltaMovement().add(push.x, 0.25, push.z));&amp;#10;            }&amp;#10;&amp;#10;            // Remove boulder after AoE&amp;#10;            entity.discard();&amp;#10;        }&amp;#10;    }&amp;#10;}</field></block></next></block></next></block></next></block></next></block><block type=\"entity_from_deps\" x=\"1393\" y=\"594\"></block></xml>"
  }
}